# 微信公众号-电小科Bot

![](/resources/logo.png)



## 简介
作品基于智慧校园的主题思想，以一个微信公众号的方式呈现。

这个公众号面向的群体是电子科技大学学生，可以为广大UESTCer提供便捷的查询功能。

查询个人信息方面，包括但不限于一卡通余额，消费流水，图书借阅，考试成绩，当前获取学分情况。同时，还提供许多公开信息的查询，譬如校历，校车发车时间等。公众号提供的查询服务结合了人工智能处理，信息基于自然语言处理，并不拘于固定格式文字的输入，查询过程充满趣味性，欢迎大家积极探索。

## 创意来源

- 考试路上发现不知道考场怎么办:cry:？手机登陆信息门户系统查询，还要输学号，密码，一着急心输错了，好烦啊:disappointed_relieved:
- 周末打算去沙河看银杏，校车什么时候来着，去信息门户找找...呃...怎么找不到了!:angry:
- “去吃饭吧”，“好啊，等等...我饭卡好像快没钱了:flushed:待我下个喜付看看”

如此种种，想要查询信息的时候总是忙手忙脚，登陆各种网站，下载各种app查询，很是麻烦。如果用一个软件就可以什么都知道多好呢。所以我们想到做一个校园小助手，但是做一个app又很麻烦，而且之后推广也困难重重，何不做一个微信公众号呢，无需安装，不占空间，使用方便😉。

## 使用方式

1.关注微信公众号

微信公众号→点击:heavy_plus_sign:，搜索“电小科Bot”

![](/resources/gif/search.gif)



2.查询一卡通余额

![](/resources/gif/balance.gif)

3.查询一卡通消费记录

![](/resources/gif/expend.gif)

4.查询一卡通充值记录

![](/resources/gif/recharge.gif)



5.查询图书借阅情况

![](/resources/gif/lib.gif)

## 工程介绍

git目录下有两个主要的工程文件

/wechatserver: [微信服务器](/wechatserver/README.md)

/schoolbotapi: [爬虫服务器](/schoolbotapi/README.md)



![](/resources/project.png)

- MySQL: 数据库服务器，用于存储用户身份信息和用户数据。
- Crawler: 爬虫后台，用于完成用户身份认证和抓取数据。
- uestc: 学校信息门户网站，用于模拟登陆，抓取信息。
- Wechat Server:微信公众号服务器，接收用户的消息，并消息返回处理结果。
- LUIS:语言理解智能服务 (LUIS) 提供了一些简单工具，可让用户构建自己的语言模型（目的/实体），这可让所有应用程序/机器人都能理解用户的命令并执行相应的行动

## 当前存在的问题

- 微信内置浏览器不支持POST请求，所以用户在绑定一卡通信息的时候需要切换到本地浏览器打开网页，否则无法查看是否绑定成功。增加了操作，体验不友好。
- 我们的后台服务器目前没有域名，所以只能通过ip地址访问，登陆的时候会弹出提醒，操作略显繁琐，而且暴露ip地址会导致安全问题。
- 学校门户系统只能在内网访问，但是我们的服务器部署在外网，所以有关信息门户系统的消息暂时无法获取，导致部分功能缺失。
- 由于服务器性能限制，目前公众号的订阅者较少，对自然语言模型的训练不足，导致某些时候语义识别有误。

## 下一步方向

- 增加获取信息的种类，真正做到什么都可以查询。
- 优化自然语言模型，使得查询系统更智能，甚至推出定制化服务，就像微软小冰一样可以做到智能回答。